parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"Bh1I":[function(require,module,exports) {
var t=null;function r(){return t||(t=e()),t}function e(){try{throw new Error}catch(r){var t=(""+r.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return n(t[0])}return"/"}function n(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^\/]+$/,"$1")+"/"}exports.getBundleURL=r,exports.getBaseURL=n;
},{}],"z1Am":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new u(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(s))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function s(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),s=n[i];return s?o[e]=s(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}):void 0}function u(r){this.executor=r,this.promise=null}u.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},u.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"Bh1I"}],"eAms":[function(require,module,exports) {
"use strict";require("_bundle_loader")(require.resolve("phaser"));
},{"_bundle_loader":"z1Am","phaser":[["phaser.a828b937.js","7sH5"],"phaser.a828b937.map","7sH5"]}],"QWww":[function(require,module,exports) {
module.exports="dist/icons8-fishing-hook-30.6362e6f0.png";
},{}],"2rXh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Player=void 0;var e=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],i=!0,o=!1,r=void 0;try{for(var n,h=e[Symbol.iterator]();!(i=(n=h.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&h.return&&h.return()}finally{if(o)throw r}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=require("phaser"),s=i(t);function i(e){return e&&e.__esModule?e:{default:e}}class o extends s.default.Physics.Matter.Sprite{constructor(e,t,s,i="",o,r){super(e,t,s,i,o,r),this.setRectangle(60,60,{inertia:1/0}),this.extendRopeTimer=this.scene.time.addEvent({delay:100,callback:()=>{this.addRopeSegment()},loop:!0,paused:!0}),this.retractRopeTimer=this.scene.time.addEvent({delay:130,callback:()=>{this.removeRopeSegment()},loop:!0,paused:!0}),this.ropeSegments=[];const n=this.addRopeSegment();n.hook=this.scene.matter.add.sprite(n.x,n.y+20,"hook",void 0,{}),this.hook=n.hook,n.hook.setName("hook"),n.hook.setDisplayOrigin(10,10),n.hook.setBody({type:"rectangle",width:14,height:14},{friction:.1,frictionAir:.1,density:.1,chamfer:{radius:4},render:{sprite:{xOffset:-.08,yOffset:.14}}}),n.hook.setTintFill(16777215),n.hook.setCollisionCategory(this.scene.RopeCollisionCategory),n.hook.setCollidesWith([this.scene.BoundsCollisionCategory,this.scene.ChestCollisionCategory]),n.joint=this.scene.matter.add.joint(n,n.hook,0,.6,{pointA:{x:0,y:8},pointB:{x:4,y:-13},render:{anchors:!1,lineWidth:1,type:"line"}})}update(e,t){this.scene.cursors.left.isDown?this.setVelocityX(-5):this.scene.cursors.right.isDown&&this.setVelocityX(5),this.scene.cursors.down.isUp&&(this.retractRopeTimer.paused=!0),this.scene.cursors.up.isUp&&(this.extendRopeTimer.paused=!0),this.scene.cursors.down.isDown?this.extendRope():this.scene.cursors.up.isDown&&this.retractRope(),this.getRopeHead().setPosition(this.x,this.y+50)}onHookTouch(e){!this.hookedChest&&e.gameObject&&"chest"===e.gameObject.name&&e.isSensor&&(this.hookedChest=e.gameObject,this.scene.matter.add.joint(this.hook,e.parent,0,.6,{pointA:{x:0,y:0},pointB:{x:0,y:-40},render:{anchors:!1,lineWidth:1,type:"line"}}))}extendRope(){this.extendRopeTimer.paused&&(this.extendRopeTimer.paused=!1)}retractRope(){this.retractRopeTimer.paused&&(this.retractRopeTimer.paused=!1)}getRopeHead(){return this.ropeSegments[this.ropeSegments.length-1]}addRopeSegment(){const t=this.getRopeHead();var s=t?[t.x,t.y]:[this.x,this.y+50],i=e(s,2);const o=i[0],r=i[1],n=this.scene.add.rectangle(o,r,6,18,43520);if(this.scene.matter.add.gameObject(n,{chamfer:{radius:2},density:.01,friction:.05,frictionAir:.1}),n.setCollisionCategory(this.scene.RopeCollisionCategory),n.setCollidesWith([this.scene.BoundsCollisionCategory,this.scene.ChestCollisionCategory]),n.setStatic(!0),this.ropeSegments.push(n),t){t.setStatic(!1),t.setY(t.y+20);const e=this.scene.matter.add.joint(n,t,8,.6,{pointA:{x:0,y:4},pointB:{x:0,y:-4},render:{anchors:!1,lineWidth:1,type:"line"}});n.joint=e}return n}removeRopeSegment(){const e=this.getRopeHead();if(!e||e.hook)return;e.joint&&(this.scene.matter.world.removeConstraint(e.joint,!1),e.joint=void 0),e.destroy(!0),this.ropeSegments.splice(this.ropeSegments.length-1,1);const t=this.getRopeHead();t&&(t.setAngle(0),t.setStatic(!0))}}exports.Player=o;
},{"phaser":"7sH5"}],"5hS9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestScene=void 0;var t=require("../assets/icons8-fishing-hook-30.png"),e=i(t),s=require("../player");function i(t){return t&&t.__esModule?t:{default:t}}class o extends Phaser.Scene{constructor(){super({key:"Test"})}preload(){this.load.image("hook",e.default)}create(){this.cursors=this.input.keyboard.createCursorKeys(),this.BoundsCollisionCategory=1,this.PlayerCollisionCategory=2,this.PlatformCollisionCategory=4,this.RopeCollisionCategory=8,this.ChestCollisionCategory=16,this.matter.world.setBounds(0,-200,this.game.config.width,this.game.config.height+200),this.add.graphics({x:4,y:4,fillStyle:{color:170}}).fillRectShape(new Phaser.Geom.Rectangle(0,0,4,4));const t=this.add.rectangle(360,80,700,10,112);this.matter.add.gameObject(t,{isStatic:!0}),t.setCollisionCategory(this.PlatformCollisionCategory),this.player=new s.Player(this.matter.world,360,40),this.sys.displayList.add(this.player),this.sys.updateList.add(this.player),this.player.setCollisionCategory(this.PlayerCollisionCategory),this.player.setCollidesWith([this.BoundsCollisionCategory,this.PlatformCollisionCategory]);var e=Phaser.Physics.Matter.Matter;const i=e.Body,o=e.Bodies,a=this.add.rectangle(0,0,100,60,6697728);a.setName("chest"),this.matter.add.gameObject(a,{});const r=i.create({parts:[o.rectangle(0,0,a.width,a.height,{chamfer:{radius:4}}),o.rectangle(0,-.5*a.height-10,20,20,{isSensor:!0})],density:.1,frictionAir:.1});a.setExistingBody(r),a.setDisplayOrigin(a.displayOriginX,28),a.setPosition(360,380),a.setCollisionCategory(this.ChestCollisionCategory),a.setCollidesWith([this.BoundsCollisionCategory,this.RopeCollisionCategory]),this.matter.world.on("collisionstart",t=>{t.pairs.forEach(t=>{const e=t.bodyA,s=t.bodyB,i=e.gameObject,o=s.gameObject;i&&"hook"===i.name?this.player.onHookTouch(s):o&&"hook"===o.name&&this.player.onHookTouch(e)})}),this.matter.add.mouseSpring({})}update(t,e){this.player.update(t,e)}}exports.TestScene=o;
},{"../assets/icons8-fishing-hook-30.png":"QWww","../player":"2rXh"}],"dgAm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=require("phaser"),t=u(e),r=require("./scenes/test.scene");function u(e){return e&&e.__esModule?e:{default:e}}function a(e,u,a){return new t.default.Game({parent:e,type:t.default.AUTO,width:u,height:a,resolution:1,physics:{default:"matter",arcade:{debug:!0,gravity:{y:200}},matter:{debug:!0,gravity:{y:.7}}},scene:[r.TestScene]})}
},{"phaser":"7sH5","./scenes/test.scene":"5hS9"}],"9B6d":[function(require,module,exports) {
"use strict";require("./vendor");var e=require("./game"),t=o(e);function o(e){return e&&e.__esModule?e:{default:e}}const r=document.getElementById("main");if(!r)throw new Error("#main element is not present.");const n=(0,t.default)(r,720,400);module.hot&&module.hot.dispose(()=>{n.destroy(!0)});
},{"./vendor":"eAms","./game":"dgAm"}],"Ijyk":[function(require,module,exports) {
module.exports=function(n){return new Promise(function(e,o){var r=document.createElement("script");r.async=!0,r.type="text/javascript",r.charset="utf-8",r.src=n,r.onerror=function(n){r.onerror=r.onload=null,o(n)},r.onload=function(){r.onerror=r.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(r)})};
},{}],0:[function(require,module,exports) {
var b=require("z1Am");b.register("js",require("Ijyk"));b.load([["phaser.a828b937.js","7sH5"]]).then(function(){require("9B6d");});
},{}]},{},[0], null)
//# sourceMappingURL=dist/src.661cce98.map